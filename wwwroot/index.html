<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css'
          integrity='sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm' crossorigin='anonymous'>
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" 
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.4.0.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
    <link rel="stylesheet" href="/css/site.css" />
    <title>Training Task Api - Main</title>
</head>
<body>
    <div class="mainContent container-fluid">
        <h1>Main page</h1>
        <h2>List of the tasks</h2>
        <a href="/addtask.html" class="btn link-button">Add new task</a>
        <table>
            <thead>
                <tr>
                    <td>ID</td>
                    <td>Task title</td>
                    <td>Task description</td>
                    <td>Author</td>
                    <td>Assignee</td>
                    <td>DueDate</td>
                    <td>Task Status</td>
                    <td>Action</td>
                </tr>
            </thead>
            <tbody data-bind="foreach: taskList">
                <tr>
                    <td>
                        <a data-bind="attr: {href: ('/editTask.html?taskid=' + $data.id)}"><i class="fa fa-edit"></i></a>
                        <span data-bind="text: $data.id"></span>
                    </td>
                    <td>
                        <a data-bind="attr: {href: ('/task.html?taskid=' + $data.id)}">
                            <span data-bind="text: $data.title"></span>
                        </a>
                    </td>
                    <td data-bind="text: $data.taskDescription"></td>
                    <td data-bind="text: $data.createdUserName"></td>
                    <td data-bind="text: $data.assigneeUserName"></td>
                    <td data-bind="text: $data.dueDate"></td>
                    <td data-bind="style: {color: ($data.activeStatus === 'Completed') ? 'green' : $data.activeStatus=='In Progress' ? 'orange' : $data.activeStatus=='Overdue' ? 'red' : 'inherit'}">
                        <span style="color:inherit;" data-bind="text: $data.activeStatus"></span>
                    </td>
                    <td><a href="#" data-bind="event: {click: $root.deleteHandler}, attr: {name: $data.id}"><i class="fa fa-trash"></i>Delete</a></td>
                </tr>
            </tbody>
        </table>
        
    </div>
    <script src="/js/main.js"></script>
</body>
</html>